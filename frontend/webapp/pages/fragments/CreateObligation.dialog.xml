<core:FragmentDefinition
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  xmlns:f="sap.ui.layout.form"
>
  <Dialog
    title="Create Obligation"
    contentWidth="40rem"
    resizable="true"
    draggable="true"
    afterClose="onCreateObligationAfterClose"
  >
    <content>
      <VBox class="sapUiSmallMargin" width="100%">
        <MessageStrip
          text="{= ${compliance>/create/errorMessage} || '' }"
          type="Error"
          showIcon="true"
          visible="{= !!${compliance>/create/errorMessage} }"
        />

        <f:SimpleForm editable="true" layout="ResponsiveGridLayout">
          <f:content>
            <Label text="Name" required="true" />
            <Input value="{compliance>/create/name}" placeholder="e.g. CIMA Annual Return" />

            <Label text="Regulator" />
            <Input value="{compliance>/create/regulator}" placeholder="e.g. CIMA" />

            <Label text="Description" />
            <TextArea value="{compliance>/create/description}" rows="4" />

            <Label text="Active" />
            <Switch state="{compliance>/create/is_active}" />
          </f:content>
        </f:SimpleForm>
      </VBox>
    </content>

    <beginButton>
      <Button text="Create" type="Emphasized" press="onCreateObligationConfirm" enabled="{compliance>/canWrite}" />
    </beginButton>
    <endButton>
      <Button text="Cancel" press="onCreateObligationCancel" />
    </endButton>
  </Dialog>
</core:FragmentDefinition>
