<mvc:View
  controllerName="netz.fund.os.pages.DataRoom"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
>
  <Page title="Data Room Registry" showHeader="true">
    <content>
      <VBox class="sapUiSmallMargin" width="100%">
        <Toolbar>
          <Title text="Documents" level="H3" />
          <ToolbarSpacer />
          <Button text="Refresh" type="Transparent" press="onRefresh" />
        </Toolbar>

        <MessageStrip
          text="{= ${dataroom>/status} === 'error' ? (${dataroom>/errorMessage} || 'Failed to load documents from backend.') : '' }"
          type="Error"
          showIcon="true"
          visible="{= ${dataroom>/status} === 'error' }"
        />

        <Table id="docsTable" items="{dataroom>/items}" inset="false" width="100%">
          <columns>
            <Column>
              <Text text="Root Folder" />
            </Column>
            <Column>
              <Text text="Folder Path" />
            </Column>
            <Column>
              <Text text="Title" />
            </Column>
            <Column>
              <Text text="Updated At" />
            </Column>
            <Column>
              <Text text="Domain" />
            </Column>
          </columns>
          <items>
            <ColumnListItem>
              <cells>
                <Text text="{dataroom>root_folder}" />
                <Text text="{dataroom>folder_path}" />
                <Text text="{dataroom>title}" />
                <Text text="{dataroom>updated_at}" />
                <Text text="{dataroom>domain}" />
              </cells>
            </ColumnListItem>
          </items>
        </Table>
      </VBox>
    </content>
  </Page>
</mvc:View>

